FROM debian:10
MAINTAINER Jean Gabes <naparuba@gmail.com>

# THIS DOCKER FILE is USED TO PUSH TO napruba/debian-10-PYTHON3 so tests will be faster, and won't need to recompute all of this every time

ADD        test/docker-helper/  /

RUN        /apt_get_install  python3
# All need for debian, so faster test (we are testging feature here, not install)
RUN        /apt_get_install   python3-jinja2
RUN        /apt_get_install   python3-crypto
RUN        /apt_get_install   python3-setuptools
RUN        /apt_get_install   python3-apt
RUN        /apt_get_install    python3-leveldb
RUN        /apt_get_install    python3-simplejson
RUN        /apt_get_install    python3-setproctitle
RUN        /apt_get_install    python3-psutil
RUN        /apt_get_install    python3-yaml
RUN        /apt_get_install      gnupg    # apt repo add


# Set python3 as default python
#RUN        update-alternatives --install /usr/bin/python python /usr/bin/python3 1

# Tests with , we are giving the test it's path for starting the setup.py
ENV        PYTHON_EXE=/usr/bin/python3

ENTRYPOINT     /bin/bash
