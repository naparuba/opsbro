version: '3'
services:
  node1:
    build:
       context: ../..
       dockerfile: test/docker-files/docker-file-DUO3-gossip-zones-x.txt
       args:
          MY_PYTHON_VERSION: "${MY_PYTHON_VERSION}"
          NODE_NB:  1
    networks:
       - gossip-zones
    cap_add:
       - ALL

  node2:
    build:
       context: ../..
       dockerfile: test/docker-files/docker-file-DUO3-gossip-zones-x.txt
       args:
          MY_PYTHON_VERSION: "${MY_PYTHON_VERSION}"
          NODE_NB:  2
    networks:
       - gossip-zones
    cap_add:
       - ALL

  node3:
    build:
       context: ../..
       dockerfile: test/docker-files/docker-file-DUO3-gossip-zones-x.txt
       args:
          MY_PYTHON_VERSION: "${MY_PYTHON_VERSION}"
          NODE_NB:  3
    networks:
       - gossip-zones
    cap_add:
       - ALL

  node4:
    build:
       context: ../..
       dockerfile: test/docker-files/docker-file-DUO3-gossip-zones-x.txt
       args:
          MY_PYTHON_VERSION: "${MY_PYTHON_VERSION}"
          NODE_NB:  4
    networks:
       - gossip-zones
    cap_add:
       - ALL

networks:
  gossip-zones:
      driver: bridge

